var pizzaMaker = function(peppers, pineapple, barbecue)	{
	var config = require("config");
	var logger = require('logger');
	
	logger.debug("PizzaMaker initialized");
	
	this.showConfig = function()	{
		logger.debug("Outputted the config");
		console.log("CONFIG");
		console.log("###################");
		console.log(config);
		console.log("###################");
	}
	
	this.makePizza = function()	{
		if(config.addPeppers)	{
			peppers.addMe();
		}
		if(config.addPineapple)	{
			pineapple.addMe();
		}
		if(config.addPineapple)	{
			barbecue.addMe();
		}
	}
};

module.exports = {
	init : function(peppers, pineapple, barbecue)	{
		var instance = new pizzaMaker(peppers, pineapple, barbecue);
		module.exports = instance;
		return instance;
	}
}